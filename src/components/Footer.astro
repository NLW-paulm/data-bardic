---
export interface Props {
  currentLang: 'cy' | 'en';
}

const { currentLang } = Astro.props;

const base = import.meta.env.BASE_URL;


const footerText = {
  cy: {
    rights: `Pob hawl yn gyfyngedig`,
    description: `Wedi'i greu gan Ymchwil LlGC. Prosiect ymchwil sy'n rhoi mynediad i ddata wedi'i greu gan wirfoddolwyr.`
  },
  en: {
    rights: 'All rights reserved',
    description: 'Created by NLW Research. A research project that gives access to volunteer-generated data'
  }
};

const text = footerText[currentLang];
// Access environment variables
const appVersion = import.meta.env.PUBLIC_APP_VERSION;
const buildDateISO = import.meta.env.PUBLIC_BUILD_DATE;

// Format the build date for display
const buildDate = new Date(buildDateISO).toLocaleDateString(currentLang === 'cy' ? 'cy-GB' : 'en-US', {
  year: 'numeric',
  month: 'long',
  day: 'numeric',
  hour: '2-digit',
  minute: '2-digit',
  second: '2-digit',
  hour12: false, // Use 24-hour format
});
---

<footer class="bg-secondary-800 text-secondary-300">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12
  <div class="flex flex-col items-center text-center">
      <!-- Logo -->
      <div class="mb-6">
        <img src={base + "NLW_logo.png"} alt="Bardic Logo" class="h-16 w-auto mx- bg-white p-1 rounded-md" />
      </div>
      <p class="text-lg font-semibold text-primary-400 mb-2">Gorsedd</p>
      <p class="text-sm mb-4">{text.description}</p>
      <p class="text-xs">Â© 2025 Bardic. {text.rights}.</p
      <!-- Version and Build Date -->
      <div class="mt-4 text-xs text-secondary-400">
        <p>V {appVersion} - {buildDate}</p>
      </div>
    </div>
  </div>
</footer>